@startuml context
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

' Enhanced styling
!define DARK_BLUE #2C3E50
!define LIGHT_BLUE #3498DB
!define GREEN #27AE60
!define ORANGE #E67E22
!define PURPLE #9B59B6

skinparam {
    BackgroundColor white
    Shadowing true
    RoundCorner 10
    DefaultFontName Arial
    DefaultFontSize 12
    DefaultFontColor #2C3E50
    ArrowThickness 2
    ArrowColor #34495E
}

HIDE_STEREOTYPE()
LAYOUT_WITH_LEGEND()

title System Context Diagram - Online Food Ordering System

' Client Applications - Top Layer
System_Ext(customerApp, "Customer Web App", "Browse restaurants, place orders,\ntrack deliveries in real-time", $sprite="mobile")
System_Ext(restaurantPortal, "Restaurant Management Portal", "Menu management, order processing,\ninventory tracking", $sprite="database")
System_Ext(deliveryApp, "Delivery Agent Tracking App", "Order assignment, route navigation,\nstatus updates", $sprite="truck")

' Core System - Center
System(foodOrdering, "Online Food Ordering System", "Central platform coordinating all\nfood ordering operations")


' External Services - Bottom Layer
System_Ext(paymentGateway, "Payment Gateway", "Stripe, PayPal, Credit Cards\nSecure payment processing", $sprite="lock")
System_Ext(mappingAPI, "Mapping/GPS API", "Google Maps, Mapbox\nLocation & routing services", $sprite="map")
System_Ext(notificationService, "Notification Service", "Twilio, SendGrid, Firebase\nMulti-channel notifications", $sprite="envelope")

' Customer App relationships
Rel_D(customerApp, foodOrdering, "Browses menu, places orders,\ntracks delivery")

' Restaurant Portal relationships
Rel_D(restaurantPortal, foodOrdering, "Manages menu, processes orders,\nupdates status")

' Delivery App relationships
Rel_D(deliveryApp, foodOrdering, "Views assigned orders,\nupdates delivery status")

' System to External System relationships
Rel_D(foodOrdering, paymentGateway, "Process payments,\nVerify transactions")
Rel_U(paymentGateway, foodOrdering, "Payment confirmation,\nTransaction status")

Rel_D(foodOrdering, mappingAPI, "Get routes, Track location,\nCalculate distance")
Rel_U(mappingAPI, foodOrdering, "Route data, Location coordinates,\nDistance info")

Rel_D(foodOrdering, notificationService, "Send order updates, OTP,\nconfirmations, receipts")
Rel_U(notificationService, foodOrdering, "Delivery status,\nNotification acknowledgment")

' Layout positioning
Lay_L(customerApp, restaurantPortal)
Lay_L(restaurantPortal, deliveryApp)

Lay_L(paymentGateway, mappingAPI)
Lay_L(mappingAPI, notificationService)

' Enhanced legend
SHOW_LEGEND()


' center footer <b>Online Food Ordering System</b> | Architecture Documentation | Confidential

@enduml